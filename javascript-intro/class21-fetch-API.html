<html>
<head>
  <title>Class 21 - API Request / Fetch API</title>
</head>
<body>
  <script>

	// Fetch returns a promise
	fetch("https://jsonplaceholder.typicode.com/todos/1")
		.then(response => {
		
			// 'response' and 'data' are promises
			console.log(response)
			response.json().then(data => console.log(data))
		})
		.catch(error => console.log("error:", error))
	
	// Another way to write the code - cleaner approach
	// We can do that because 'response' and 'data' are promises
	fetch("https://jsonplaceholder.typicode.com/todos/1")
		.then(response => response.json())
		.then(data => console.log(data))
		.catch(error => console.log("error:", error))
	
	// Creating an async function
	async function main() {
		try {
			const response = await fetch("https://jsonplaceholder.typicode.com/todos/1")
			const data = await response.json()
			
			console.log(data)
		} catch(error) {
			console.log("error:", error)
		}
	}
	main()
	
  </script>
</body>
</html>
